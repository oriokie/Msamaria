{% extends 'base.html' %} {% block content %}
<div class="max-w-lg mx-auto bg-white shadow-lg rounded-lg p-8 mt-10">
  <h1 class="text-2xl font-bold text-gray-800 mb-6">Register Member and Add Dependents</h1>

  <form id="memberForm" method="POST" class="space-y-6">
    {{ form.hidden_tag() }}

    <div>
      {{ form.name.label(class="block text-sm font-medium text-gray-700") }} {{ form.name(class="mt-1 block w-full p-2 border
      border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm") }}
    </div>

    <div>
      {{ form.id_number.label(class="block text-sm font-medium text-gray-700") }} {{ form.id_number(class="mt-1 block w-full p-2
      border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm") }}
    </div>

    <div>
      {{ form.phone_number.label(class="block text-sm font-medium text-gray-700") }} {{ form.phone_number(class="mt-1 block w-full
      p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm") }}
    </div>

    <div>
      {{ form.password.label(class="block text-sm font-medium text-gray-700") }} {{ form.password(class="mt-1 block w-full p-2
      border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm") }}
    </div>

    <div>
      {{ form.confirm_password.label(class="block text-sm font-medium text-gray-700") }} {{ form.confirm_password(class="mt-1
      block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm") }}
    </div>

    <h2 class="text-xl font-semibold text-gray-700 mt-6 mb-4">Dependents (Optional)</h2>

    <div id="dependentsContainer"></div>

    <button
      type="button"
      class="inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
      id="addDependentBtn"
    >
      Add Dependent
    </button>

    <button
      type="submit"
      class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"
      id="submitBtn"
    >
      Submit
    </button>
  </form>
</div>

<template id="dependentTemplate">
  <div class="mt-6 p-4 bg-gray-50 border border-gray-200 rounded-md shadow-sm">
    <h3 class="text-lg font-medium text-gray-700 mb-4">Dependent</h3>

    <div class="mb-4">
      <label class="block text-sm font-medium text-gray-700">Name</label>
      <input
        type="text"
        class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
        name="dependent_name"
      />
    </div>

    <div class="mb-4">
      <label class="block text-sm font-medium text-gray-700">Phone Number</label>
      <input
        type="text"
        class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
        name="dependent_phone_number"
      />
    </div>

    <div class="mb-4">
      <label class="block text-sm font-medium text-gray-700">Relationship</label>
      <input
        type="text"
        class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"
        name="dependent_relationship"
      />
    </div>

    <button
      type="button"
      class="inline-flex items-center px-4 py-2 border border-red-300 text-sm font-medium rounded-md shadow-sm text-red-600 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 removeDependent"
    >
      Remove
    </button>
  </div>
</template>

{% endblock %} {% block scripts %}
<script src="{{ url_for('static', filename='js/registration.js') }}"></script>
{% endblock %}
