{% extends 'base.html' %} {% block content %}
<div class="registration-container">
  <h1>Register Member and Add Dependents</h1>

  <form id="memberForm" method="POST">
    {{ form.hidden_tag() }}
    <div class="form-group">{{ form.name.label(class="form-label") }} {{ form.name(class="form-input") }}</div>
    <div class="form-group">{{ form.id_number.label(class="form-label") }} {{ form.id_number(class="form-input") }}</div>
    <div class="form-group">{{ form.phone_number.label(class="form-label") }} {{ form.phone_number(class="form-input") }}</div>
    <div class="form-group">{{ form.password.label(class="form-label") }} {{ form.password(class="form-input") }}</div>
    <div class="form-group">
      {{ form.confirm_password.label(class="form-label") }} {{ form.confirm_password(class="form-input") }}
    </div>

    <h2>Dependents (Optional)</h2>
    <div id="dependentsContainer"></div>
    <button type="button" class="btn btn-secondary" id="addDependentBtn">Add Dependent</button>
    <button type="submit" class="btn btn-primary" id="submitBtn">Submit</button>
  </form>
</div>

<template id="dependentTemplate">
  <div class="dependent-card">
    <h3>Dependent</h3>
    <div class="form-group">
      <label class="form-label">Name</label>
      <input type="text" class="form-input" name="dependent_name" />
    </div>
    <div class="form-group">
      <label class="form-label">Phone Number</label>
      <input type="text" class="form-input" name="dependent_phone_number" />
    </div>
    <div class="form-group">
      <label class="form-label">Relationship</label>
      <input type="text" class="form-input" name="dependent_relationship" />
    </div>
    <button type="button" class="btn btn-danger removeDependent">Remove</button>
  </div>
</template>

<style>
  .registration-container {
    max-width: 600px;
    margin: 0 auto;
    padding: 20px;
    background-color: #f9f9f9;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  }

  h1,
  h2 {
    color: #333;
    margin-bottom: 20px;
  }

  .form-group {
    margin-bottom: 15px;
  }

  .form-label {
    display: block;
    margin-bottom: 5px;
    color: #555;
  }

  .form-input {
    width: 100%;
    padding: 8px;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 16px;
  }

  .btn {
    padding: 10px 15px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 16px;
    margin-right: 10px;
  }

  .btn-primary {
    background-color: #007bff;
    color: white;
  }

  .btn-secondary {
    background-color: #6c757d;
    color: white;
  }

  .btn-danger {
    background-color: #dc3545;
    color: white;
  }

  .dependent-card {
    background-color: white;
    border: 1px solid #ddd;
    border-radius: 4px;
    padding: 15px;
    margin-bottom: 15px;
  }
</style>

{% endblock %} {% block scripts %}
<script src="{{ url_for('static', filename='js/registration.js') }}"></script>
{% endblock %}
